!function(){function e(){let e=this;if(e.calendar.innerHTML="",0===e.level){const t="<tr><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th><th>Su</th></tr>",r=function(e,t){let r;r=e%7%2==0?31:6===e?31:1===e?t%400==0|(t%4==0&&t%100!=0)?29:28:30;return r}(e.currentMonthIdx,e.currentYear);let n="";const a=7;for(let e=0;e<r;e++)e%a==0&&(n+="<tr>"),n+=`<td>${e+1}</td>`,e%a==a-1&&(n+="</tr>");e.calendar.insertAdjacentHTML("beforeend",t+n)}if(1===e.level){const t=4;let r="";for(let n=0;n<12;n++)n%t==0&&(r+="<tr>"),r+=`<td>${e.months[n]}</td>`,n%t==3&&(r+="</tr>");e.calendar.innerHTML=r}if(2===e.level){const t=4;let r="";for(let n=0;n<12;n++)n%t==0&&(r+="<tr>"),r+=`<td>${e.currentYear+n}</td>`,n%t==3&&(r+="</tr>");e.calendar.innerHTML=r}}function t(){let e=this;const t=e.header.querySelector(".title");0===e.level?t.textContent=`${e.currentYear} ${e.currentMonth}`:1===e.level?t.textContent=e.currentYear:2===e.level&&(t.textContent=`${e.currentYear} - ${e.currentYear+11}`)}function r(e,t=1){let r,n,a;return 3===e.substr(1).length?r=n=a=parseInt(e.slice(1,3),16):6===e.substr(1).length&&(r=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16)),r&&n&&a?`rgba(${r}, ${n}, ${a}, ${t})`:e}EasyCalendar=function(n,a){const l=new Date,c=l.getDate(),o=l.getMonth(),d=l.getFullYear();this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.currentDate=c,this.currentMonthIdx=o,this.currentMonth=this.months[o],this.currentYear=d,this.id=n,this.input=null,this.outerWrapper=null,this.wrapper=null,this.header=null,this.calendar=null,this.prevBtn=null,this.nextBtn=null,this.level=0;let s={theme:{borderColor:"#ccc",headerColor:"#000",headerBg:"#ccc",navBg:"#666666",cellBg:"#f2f2f2"}};this.settings=a?function(e,t){for(let r in t)if(e.hasOwnProperty(r))if("object"==typeof e[r])for(let n in t[r])e[r].hasOwnProperty(n)&&(e[r][n]=t[r][n]);else e[r]=t[r];return e}(s,a):s,function(){let n=this;const a=Math.floor(1e4*Math.random()+1);n.input=document.querySelector(`#${n.id}`);const l=n.input.parentNode;n.outerWrapper=document.createElement("div"),n.outerWrapper.style.width=n.input.offsetWidth+"px",n.outerWrapper.style.position="relative",n.outerWrapper.style.margin="0 auto",l.replaceChild(n.outerWrapper,n.input),n.outerWrapper.appendChild(n.input),n.wrapper=document.createElement("div"),n.wrapper.className="easy-calendar-wrapper",n.wrapper.id=`easy-calendar-wrapper-${a}`,n.wrapper.style.display="none",n.header=document.createElement("div"),n.header.className="easy-calendar-header";const c=`<button class="prev"></button> \n                                <span class="title">${this.currentYear} ${this.currentMonth}</span>\n                          <button class="next"></button>`;n.header.innerHTML=c;const o=document.createElement("div");n.calendar=document.createElement("table"),n.calendar.className="easy-calendar";const d=document.createElement("style");d.textContent=`\n            #easy-calendar-wrapper-${a} {\n                border: 1px solid ${n.settings.theme.borderColor};\n            }\n            #easy-calendar-wrapper-${a} .easy-calendar td {\n                background-color: ${n.settings.theme.cellBg};\n                border: 1px solid ${n.settings.theme.borderColor};\n            }\n            #easy-calendar-wrapper-${a} .easy-calendar td:hover {\n                background-color: ${r(n.settings.theme.cellBg,.2)};\n            }\n            #easy-calendar-wrapper-${a} .easy-calendar-header {\n                background-color: ${n.settings.theme.headerBg};\n                color: ${n.settings.theme.headerColor};\n            }\n            #easy-calendar-wrapper-${a} .easy-calendar-header .title:hover {\n                background-color: ${r(n.settings.theme.cellBg,.8)};\n            }\n            #easy-calendar-wrapper-${a} .easy-calendar-header button{\n                background-color: ${n.settings.theme.navBg};\n            }\n        `,document.head.appendChild(d),o.appendChild(n.calendar),n.wrapper.appendChild(n.header),n.wrapper.appendChild(o),n.outerWrapper.appendChild(n.wrapper),e.call(n),function(){let r=this;r.prevBtn=r.header.querySelector(".prev"),r.nextBtn=r.header.querySelector(".next"),r.prevBtn&&r.prevBtn.addEventListener("click",function(){let r=this;0===r.level&&(r.currentYear=r.currentMonthIdx>0?r.currentYear:r.currentYear-1,r.currentMonthIdx=r.currentMonthIdx>0?r.currentMonthIdx-1:11,r.currentMonth=r.months[r.currentMonthIdx]);1===r.level&&(r.currentYear-=1);2===r.level&&(r.currentYear-=11);e.call(r),t.call(r)}.bind(r));r.nextBtn&&r.nextBtn.addEventListener("click",function(){let r=this;0===r.level&&(r.currentYear=r.currentMonthIdx<11?r.currentYear:r.currentYear+1,r.currentMonthIdx=r.currentMonthIdx<11?r.currentMonthIdx+1:0,r.currentMonth=r.months[r.currentMonthIdx]);1===r.level&&(r.currentYear+=1);2===r.level&&(r.currentYear+=11);e.call(r),t.call(r)}.bind(r));r.input.addEventListener("focus",()=>{r.wrapper.style.display="block",r.wrapper.style.minWidth=r.wrapper.offsetWidth+"px"}),window.addEventListener("click",function(e){let t=this;e.target.isEqualNode(t.input)||(t.wrapper.style.display="none")}.bind(r)),r.wrapper.addEventListener("click",e=>{e.stopPropagation()}),r.calendar.addEventListener("click",function(r){let n=this;if("TD"===r.target.nodeName){if(0===n.level){const e=+r.target.textContent>9?r.target.textContent:`0${r.target.textContent}`,t=n.currentMonthIdx>8?n.currentMonthIdx+1:`0${n.currentMonthIdx+1}`,a=n.currentYear;n.input.value=[e,t,a].join("/")}if(1===n.level){const a=r.target.textContent;n.currentMonthIdx=n.months.indexOf(a),n.currentMonth=n.months[n.currentMonthIdx],n.level-=1,t.call(n),e.call(n)}2===n.level&&(n.level-=1,n.currentYear=+r.target.textContent,t.call(n),e.call(n))}}.bind(r)),r.header.querySelector(".title").addEventListener("click",function(){let r=this;r.level=(r.level+1)%3,e.call(r),t.call(r)}.bind(r))}.call(n)}.call(this)}}();